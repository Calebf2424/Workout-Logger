{% extends "base.html" %}
{% block title %}Welcome â€“ Workout Tracker{% endblock %}

{% block content %}
<div class="d-flex flex-column align-items-center justify-content-center vh-100 w-100 px-3">

  <div class="card home-card text-center p-5" style="max-width: 400px; width: 100%;">
    <h1 class="fw-bold mb-3"> Workout Tracker</h1>
    <p class="text-muted mb-4">Track your progress, one set at a time.</p>

    <form action="{{ url_for('create_guest') }}" method="POST">
      <button type="submit" class="btn btn-primary w-100 py-2 fs-5">
         Start as Guest
      </button>
    </form>

    <p class="text-muted mt-3 mb-0" style="font-size: 0.85rem;">
      User accounts coming in a future update.
    </p>
  </div>

</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
    if (!document.cookie.includes("tz_set=true")) {
      fetch("/set-timezone", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ timezone: tz })
      }).then(() => {
        document.cookie = "tz_set=true; path=/";
        location.reload();
      });
    }
  });
</script>
{% endblock %}
